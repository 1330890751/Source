<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>timer</title>
</head>
<body>
    <div>  
        <span id="_d">00</span>  
        <span id="_h">00</span>  
        <span id="_m">00</span>  
        <span id="_s">00</span>  
    </div>  

</body>
<script>
    // var st ='2017-12-25 20:17:24';
    // var starttime = st.replace(new RegExp("-","gm"),"/");
    // alert(starttime);
    // var starttimeHaoMiao = (new Date(starttime)).getTime(); //得到毫秒数
    // alert(starttimeHaoMiao);



 //    var endtime="2012-12-25 20:17:24";
    // var begintime="2012-12-25 20:17:24";
    // var aa=begintime.replace(/-/g,"/");
   // alert(aa);
 // var begintime_ms=new Date(aa);


 // alert(begintime_ms);
 // var bbe=Date.parse(begintime_ms);
 // alert(bbe);
 // var vvbbe=begintime_ms.getTime();
 // alert(vvbbe);
 var nowTime= new Date();
 var startTime=formatDateTime (nowTime);
var endTime ='2017-4-7 10:50:00';
var start = startTime.replace(new RegExp("-","gm"),"/");
    var end = endTime.replace(new RegExp("-","gm"),"/");
     alert(start);
    alert(end);

    // var cc=(new Date(end)).getTime() - (new Date(start)).getTime();
    // alert(cc); //获取毫秒数；


    var nowTim=new Date(start).getTime();//开始时间
    var endTim=new Date(end).getTime();//结束时间

    var tim=endTim-nowTim;//获得开始到结束之间剩余时间 毫秒
alert(tim);
    // alert(tim);  
    if(tim>0){
        var day=Math.floor(tim/1000/60/60/24);
        // alert(day)
        var hours=Math.floor(tim/1000/60/60%24);
        // alert(hours)
        var min=Math.floor(tim/1000/60%60);
        // alert(min)
        var sec=Math.floor(tim/1000%60);
    }

var str=toTwo(day)+"天"+toTwo(hours)+"小时"+toTwo(min)+"分"+toTwo(sec)+"秒";

    alert(str);







function toTwo(s) {
         return s<10?"0"+s: s; 
    }


 function formatDateTime(date) {
    var y = date.getFullYear();
    var m = date.getMonth() + 1;
    m = m < 10 ? ('0' + m) : m;
    var d = date.getDate();
    d = d < 10 ? ('0' + d) : d;
    var h = date.getHours();
    var minute = date.getMinutes();
    minute = minute < 10 ? ('0' + minute) : minute;
    var seconds = date.getSeconds();
    seconds = seconds < 10 ? ('0' + seconds) : seconds;
    return y + '-' + m + '-' + d + ' ' + h + ':' + minute + ":" + seconds;
};

//    var dt = Date.parse('2017-03-15 11:12:08'); // yyyy/MM/dd HH:mm:ss
//    console.log(dt);
//    var newTime = new Date(dt);
//    console.log(newTime);

    // var myDate = new Date();
    // myDate.setFullYear(2100, 5, 5);
    // var dateString = myDate.toString();
    // document.write(dateString);
//     var assignmentUpdateTime="2017-10-23 11:44:02"
//     // for(var i=0;i<assignmentUpdateTime.length;i++){

//     // }
//     var now=new Date();
//     var oldTimer= new Date(assignmentUpdateTime.replace(/-/g,"/"));
// console.log(now,oldTimer)
// var old=Date.parse(oldTimer);
// console.log(now,old)
 // function countTime() {  
 //            //获取当前时间  
 //            var date = new Date();  
 //            var now = date.getTime();  
 //            //设置截止时间  
 //            var endDate = new Date("2016-10-22 23:23:23");  
 //            var end = endDate.getTime();  
 //            //时间差  
 //            var leftTime = end-now;  
 //            //定义变量 d,h,m,s保存倒计时的时间  
 //            var d,h,m,s;  
 //            if (leftTime>=0) {  
 //                d = Math.floor(leftTime/1000/60/60/24);  
 //                h = Math.floor(leftTime/1000/60/60%24);  
 //                m = Math.floor(leftTime/1000/60%60);  
 //                s = Math.floor(leftTime/1000%60);                     
 //            }  
 //            //将倒计时赋值到div中  
 //            document.getElementById("_d").innerHTML = d+"天";  
 //            document.getElementById("_h").innerHTML = h+"时";  
 //            document.getElementById("_m").innerHTML = m+"分";  
 //            document.getElementById("_s").innerHTML = s+"秒";  
 //            //递归每秒调用countTime方法，显示动态时间效果  
 //            setTimeout(countTime,1000);  







</script>
</html>